<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Employee List</title>

</head>
<body>

<h1>Employee List</h1>
<table border="1">
    <thead>
    <tr>
        <th>Employee ID</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Email</th>
        <th>Department</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="employee : ${employees}">

        <td th:text="${employee.id}">
        </td>
        <td th:text="${employee.firstName}" th:class="'employeeInfo'+${employee.id}"></td>



        <td th:text="${employee.lastName}" th:class="'employeeInfo'+${employee.id}"></td>


        <td th:text="${employee.email}" th:class="'employeeInfo'+${employee.id}"></td>



        <td th:text="${employee.department}" th:class="'employeeInfo'+${employee.id}"></td>

        <td style="display: flex">
            <form th:action="@{/employees/delete/{id}(id=${employee.id})}" method="get" class="employeeActions">
                <button type="submit">Delete</button>
            </form>

            <!---The update btn. the backstabbing juliet that makes it all go Begins-->
            <button th:onclick="'toggleUpdate(\'edit'+ ${employee.id} +'\', \'update'+ ${employee.id} +'\', \'employeeInfo'+ ${employee.id} +'\' , \'updateEmployeeInfo'+ ${employee.id} +'\' );'" th:id="'edit'+${employee.id}">Edit</button>
            <form th:onclick="'toggleUpdate(\'edit'+ ${employee.id} +'\', \'update'+ ${employee.id} +'\', \'employeeInfo'+ ${employee.id} +'\' , \'updateEmployeeInfo'+ ${employee.id} +'\' );'"  th:id="'update'+${employee.id}" style="display: none">
                <button >Update</button>
            </form>

            <!---The update btn. the backstabbing juliet that makes it all go Ends-->

        <!-- more info begins -->
         <form th:action="@{/employees/get/{id}(id=${employee.id})}" method="get" class="detailForm">
            <button type="submit" >Details</button>
        </form>
        </td>


        <!-- more info begins -->

    </tr>
    </tbody>
</table>

    <button onclick="toggleNewForm('newForm')" id="buttonId" >
    Add new Employee
</button>

<div>
    <div Style="display: none" id="newForm">
        <form th:action="@{/employees}" th:object="${newEmployee}" method="post">

            <label for="firstName">First Name:</label>
            <input type="text" id="firstName" th:field="*{firstName}" /><br/>

            <label for="lastName">Last Name:</label>
            <input type="text" id="lastName" th:field="*{lastName}" /><br/>

            <label for="email">Email:</label>
            <input type="email" id="email" th:field="*{email}" /><br/>

            <label for="department">Department:</label>
            <input type="text" id="department" th:field="*{department}" /><br/>

            <button type="submit">Submit</button>

        </form>


    </div>

</div>



</body>

</html>